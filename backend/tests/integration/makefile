# Makefile
.PHONY: test-integration test-performance setup-integration

setup-integration:
	@echo "ğŸš€ Configuration des tests d'intÃ©gration..."
	@docker-compose up -d --wait
	@./scripts/validate_microservices.sh

test-integration: setup-integration
	@echo "ğŸ§ª Lancement des tests d'intÃ©gration..."
	@pytest tests/integration/ -v --tb=short -m integration

test-performance: setup-integration
	@echo "âš¡ Lancement des tests de performance..."
	@pytest tests/integration/ -v --tb=short -m performance

test-full: setup-integration
	@echo "ğŸ” Tests complets avec couverture..."
	@pytest tests/ -v --cov=src --cov-report=html --cov-report=term